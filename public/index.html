<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMM ATM Status</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;1,300&family=Playfair+Display:wght@900&family=Roboto:ital,wght@0,100;0,400;1,100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class = "container flex">
        <header>
            <h1>KMM ATM Status</h1>
            <h2>By Jun</h2>
        </header>
        <section class="flex-item">
            <div>
                <p>Status: <span id="status"></span></p>
            </div>
            <img src="\atm_machine.jpg" alt="picture of atm machine">
            <div>
                <p>Reason: <span id="reason" class='msg'></span></p>
            </div>
            <div>    
                <p>Last update: <span id="dateTime" class='msg'></span></p>
            </div>
        </section>

        <a href="/update_form.html" rel="noopener noreferrer" target="_blank"><button type="button" class = "submitButton">Update</button></a>
        
        <div>
            <input type="button" value="FEEDBACK" class="indexButton">
            <a href="#" target="_blank" rel="noopener noreferrer"><input type="button" value="SUPPORT" class="indexButton"></a>
        </div>
        
        <footer>
            <form action="https://kmm-atm-status.herokuapp.com/" method="post" id="feedbackForm" class="flex">
                <div class="flex-item">
                    <label for="email">Email <abbr title="required" aria-label="required" aria-required="true">*</abbr></label>
                    <input type="email" name="emailAdress" id="email" class="in" required>
                </div>
                <div class="flex-item">
                    <label for="feedback">Feedback <abbr title="required" aria-label="required" aria-required="true">*</abbr></label>
                    <textarea name="message" id="feedback" class="in" placeholder="Your feedback here..." required minlength="3"></textarea>
                </div>
                <input type="submit" class = "submitButton" value="Submit">
            </form>
        </footer>

    </div>
    <script>
        document.getElementsByClassName("indexButton")[0].addEventListener("click", feedback);
        var status = 'hi';
        var reason = 'bye';
        var dateTime = 'test';

        function feedback() {
        //Show/Hide feedback form    
            var foot = document.querySelector('footer').style;
            
            if (foot.display === 'none'){
                foot.display = 'block';
            }
            else{
                foot.display = 'none';
            }
        }

        function updateInfo(){
            document.getElementById('status').textContent = status;
            document.getElementById('reason').textContent = reason;
            document.getElementById('dateTime').textContent = dateTime;
        }

        updateInfo();
    </script>
</body>
</html>